cmake_minimum_required(VERSION 3.14)

include(FetchContent)

FetchContent_Declare(pinmamesrc
   URL "https://github.com/vpinball/pinmame/archive/master.zip"
)

FetchContent_Populate(pinmamesrc)

file(READ ${pinmamesrc_SOURCE_DIR}/src/version.c version)
string(REGEX MATCH "[0-9\\.]+" PROJECT_VERSION ${version})

project(pinmame VERSION ${PROJECT_VERSION})

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_C_STANDARD 99)

file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/patch/ext DESTINATION ${pinmamesrc_SOURCE_DIR})
file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/patch/src DESTINATION ${pinmamesrc_SOURCE_DIR})

add_compile_definitions(
   HAS_M6809=1
   HAS_M6808=1
   HAS_M6800=1
   HAS_M6803=1
   HAS_M6802=1
   HAS_ADSP2101=1
   HAS_ADSP2105=1
   HAS_Z80=1
   HAS_M6502=1
   HAS_M65C02=1
   HAS_M68000=1
   HAS_M68306=1
   HAS_S2650=1
   HAS_8080=1
   HAS_8085A=1
   HAS_I8035=1
   HAS_I8039=1
   HAS_I86=1
   HAS_I88=1
   HAS_I186=1
   HAS_I188=1
   HAS_4004=1
   HAS_PPS4=1
   HAS_SCAMP=1
   HAS_I8051=1
   HAS_I8752=1
   HAS_TMS7000=1
   HAS_AT91=1
   HAS_ARM7=1
   HAS_CDP1802=1
   HAS_TMS9980=1
   HAS_TMS9995=1
   HAS_COP420=1
   HAS_DAC=1
   HAS_YM2151_ALT=1
   HAS_HC55516=1
   HAS_MC3417=1
   HAS_SAMPLES=1
   HAS_TMS5220=1
   HAS_AY8910=1
   HAS_MSM5205=1
   HAS_CUSTOM=1
   HAS_BSMT2000=1
   HAS_OKIM6295=1
   HAS_ADPCM=1
   HAS_VOTRAXSC01=1
   HAS_SN76477=1
   HAS_SN76496=1
   HAS_DISCRETE=1
   HAS_SP0250=1
   HAS_TMS320AV120=1
   HAS_M114S=1
   HAS_YM3812=1
   HAS_S14001A=1
   HAS_YM2203=1
   HAS_YM3526=1
   HAS_TMS5110=1
   HAS_SP0256=1
   HAS_Y8950=1
   HAS_ASTROCADE=1
   HAS_YMF262=1
   HAS_MEA8000=1
   HAS_SAA1099=1
   HAS_QSOUND=1
   MAMEVER=7300    
   LSB_FIRST
   _CRT_SECURE_NO_WARNINGS
   __LP64__
   WIN32
   _MBCS
   ZLIB_WINAPI
   PINMAME 
   PINMAME_NO_UNUSED
   LIBPINMAME
)

add_library(pinmame SHARED
   ${pinmamesrc_SOURCE_DIR}/src/artwork.c 
   ${pinmamesrc_SOURCE_DIR}/src/artwork.h 
   ${pinmamesrc_SOURCE_DIR}/src/audit.c 
   ${pinmamesrc_SOURCE_DIR}/src/audit.h 
   ${pinmamesrc_SOURCE_DIR}/src/cheat.c
   ${pinmamesrc_SOURCE_DIR}/src/cheat.h
   ${pinmamesrc_SOURCE_DIR}/src/common.c
   ${pinmamesrc_SOURCE_DIR}/src/common.h
   ${pinmamesrc_SOURCE_DIR}/src/config.c
   ${pinmamesrc_SOURCE_DIR}/src/config.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/adsp2100/2100dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/adsp2100/adsp2100.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/adsp2100/adsp2100.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/arm7/arm7.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/arm7/arm7.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/arm7/arm7dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/at91/at91.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/at91/at91.h 
   ${pinmamesrc_SOURCE_DIR}/src/cpu/at91/at91dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cdp1802/1802dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cdp1802/cdp1802.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cdp1802/cdp1802.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cop400/410ops.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cop400/420ops.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cop400/cop400.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cop400/cop420.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/cop400/cop420ds.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i86/i86.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i86/i86.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i86/i86dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i4004/4004dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i4004/i4004.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i4004/i4004.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8039/8039dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8039/i8039.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8039/i8039.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8051/8051dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8051/i8051.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8051/i8051.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8085/8085dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8085/i8085.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/i8085/i8085.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6502/6502dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6502/m6502.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6502/m6502.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6800/6800dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6800/m6800.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6800/m6800.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6809/6809dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6809/m6809.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m6809/m6809.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/generated_by_m68kmake/m68kopac.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/generated_by_m68kmake/m68kops.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/generated_by_m68kmake/m68kopdm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/generated_by_m68kmake/m68kopnz.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/generated_by_m68kmake/m68kops.h 
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/m68kcpu.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/m68kcpu.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/m68kdasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/m68kmame.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/m68kmame.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/pps4/pps4.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/pps4/pps4.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/pps4/pps4dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/s2650/2650dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/s2650/s2650.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/s2650/s2650.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/scamp/scamp.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/scamp/scamp.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/scamp/scampdsm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms7000/7000dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms7000/tms7000.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms7000/tms7000.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms9900/9900dasm.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms9900/tms9900.c
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms9900/tms9900.h
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms9900/tms9980a.c 
   ${pinmamesrc_SOURCE_DIR}/src/cpu/tms9900/tms9995.c 
   ${pinmamesrc_SOURCE_DIR}/src/cpu/z80/z80.c 
   ${pinmamesrc_SOURCE_DIR}/src/cpu/z80/z80.h 
   ${pinmamesrc_SOURCE_DIR}/src/cpu/z80/z80dasm.c 
   ${pinmamesrc_SOURCE_DIR}/src/cpu/z80/z80dasm.h 
   ${pinmamesrc_SOURCE_DIR}/src/cpuexec.c 
   ${pinmamesrc_SOURCE_DIR}/src/cpuexec.h 
   ${pinmamesrc_SOURCE_DIR}/src/cpuint.c 
   ${pinmamesrc_SOURCE_DIR}/src/cpuint.h 
   ${pinmamesrc_SOURCE_DIR}/src/cpuintrf.c 
   ${pinmamesrc_SOURCE_DIR}/src/cpuintrf.h 
   ${pinmamesrc_SOURCE_DIR}/src/datafile.c 
   ${pinmamesrc_SOURCE_DIR}/src/datafile.h 
   ${pinmamesrc_SOURCE_DIR}/src/drawgfx.c 
   ${pinmamesrc_SOURCE_DIR}/src/drawgfx.h 
   ${pinmamesrc_SOURCE_DIR}/src/driver.h 
   ${pinmamesrc_SOURCE_DIR}/src/fileio.c 
   ${pinmamesrc_SOURCE_DIR}/src/fileio.h 
   ${pinmamesrc_SOURCE_DIR}/src/harddisk.c 
   ${pinmamesrc_SOURCE_DIR}/src/harddisk.h 
   ${pinmamesrc_SOURCE_DIR}/src/hash.c 
   ${pinmamesrc_SOURCE_DIR}/src/hash.h 
   ${pinmamesrc_SOURCE_DIR}/src/hiscore.c 
   ${pinmamesrc_SOURCE_DIR}/src/hiscore.h 
   ${pinmamesrc_SOURCE_DIR}/src/info.c 
   ${pinmamesrc_SOURCE_DIR}/src/info.h 
   ${pinmamesrc_SOURCE_DIR}/src/inptport.c 
   ${pinmamesrc_SOURCE_DIR}/src/inptport.h 
   ${pinmamesrc_SOURCE_DIR}/src/input.c 
   ${pinmamesrc_SOURCE_DIR}/src/input.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/4094.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/4094.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6522via.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6522via.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6530riot.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6530riot.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6532riot.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6532riot.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6821pia.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/6821pia.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/8255ppi.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/8255ppi.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/eeprom.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/eeprom.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/i8155.c
   ${pinmamesrc_SOURCE_DIR}/src/machine/i8155.h
   ${pinmamesrc_SOURCE_DIR}/src/machine/mathbox.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/mathbox.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/pic8259.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/pic8259.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/ticket.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/ticket.h 
   ${pinmamesrc_SOURCE_DIR}/src/machine/z80fmly.c 
   ${pinmamesrc_SOURCE_DIR}/src/machine/z80fmly.h 
   ${pinmamesrc_SOURCE_DIR}/src/mame.c 
   ${pinmamesrc_SOURCE_DIR}/src/mame.h 
   ${pinmamesrc_SOURCE_DIR}/src/mamedbg.c 
   ${pinmamesrc_SOURCE_DIR}/src/mamedbg.h 
   ${pinmamesrc_SOURCE_DIR}/src/md5.c 
   ${pinmamesrc_SOURCE_DIR}/src/md5.h 
   ${pinmamesrc_SOURCE_DIR}/src/memory.c 
   ${pinmamesrc_SOURCE_DIR}/src/memory.h 
   ${pinmamesrc_SOURCE_DIR}/src/osdepend.h 
   ${pinmamesrc_SOURCE_DIR}/src/palette.c 
   ${pinmamesrc_SOURCE_DIR}/src/palette.h 
   ${pinmamesrc_SOURCE_DIR}/src/pinmame.h 
   ${pinmamesrc_SOURCE_DIR}/src/png.c 
   ${pinmamesrc_SOURCE_DIR}/src/png.h 
   ${pinmamesrc_SOURCE_DIR}/src/profiler.c 
   ${pinmamesrc_SOURCE_DIR}/src/profiler.h 
   ${pinmamesrc_SOURCE_DIR}/src/sha1.c 
   ${pinmamesrc_SOURCE_DIR}/src/sha1.h 
   ${pinmamesrc_SOURCE_DIR}/src/sndintrf.c 
   ${pinmamesrc_SOURCE_DIR}/src/sndintrf.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/262intf.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/262intf.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/2151intf.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/2151intf.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/2203intf.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/2203intf.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/3812intf.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/3812intf.h
   ${pinmamesrc_SOURCE_DIR}/src/sound/5110intf.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/5110intf.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/5220intf.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/5220intf.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/adpcm.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/adpcm.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/astrocde.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/astrocde.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ay8910.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ay8910.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/bsmt2000.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/bsmt2000.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/dac.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/dac.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/discrete.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/discrete.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/filter.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/filter.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/fm.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/fm.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/fmopl.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/fmopl.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/hc55516.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/hc55516.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/m114s.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/m114s.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/mc3417.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/mc3417.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/mea8000.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/mea8000.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/mixer.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/mixer.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/msm5205.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/msm5205.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/qsound.c
   ${pinmamesrc_SOURCE_DIR}/src/sound/qsound.h
   ${pinmamesrc_SOURCE_DIR}/src/sound/s14001a.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/s14001a.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/saa1099.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/saa1099.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/samples.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/samples.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sn76477.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sn76477.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sn76496.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sn76496.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sp0250.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sp0250.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sp0256.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/sp0256.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/streams.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/streams.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/tms320av120.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/tms320av120.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/tms5110.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/tms5110.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/tms5220.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/tms5220.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/votrax.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/votrax.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ym2151.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ym2151.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ymdeltat.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ymdeltat.h 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ymf262.c 
   ${pinmamesrc_SOURCE_DIR}/src/sound/ymf262.h 
   ${pinmamesrc_SOURCE_DIR}/src/state.c
   ${pinmamesrc_SOURCE_DIR}/src/state.h
   ${pinmamesrc_SOURCE_DIR}/src/tilemap.c
   ${pinmamesrc_SOURCE_DIR}/src/tilemap.h
   ${pinmamesrc_SOURCE_DIR}/src/timer.c
   ${pinmamesrc_SOURCE_DIR}/src/timer.h
   ${pinmamesrc_SOURCE_DIR}/src/ui_text.c
   ${pinmamesrc_SOURCE_DIR}/src/ui_text.h
   ${pinmamesrc_SOURCE_DIR}/src/unzip.c
   ${pinmamesrc_SOURCE_DIR}/src/unzip.h
   ${pinmamesrc_SOURCE_DIR}/src/usrintrf.c
   ${pinmamesrc_SOURCE_DIR}/src/usrintrf.h
   ${pinmamesrc_SOURCE_DIR}/src/version.c
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/avgdvg.c 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/avgdvg.h 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/crtc6845.c 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/crtc6845.h 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/generic.c 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/generic.h 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/tms9928a.c 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/tms9928a.h 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/vector.c 
   ${pinmamesrc_SOURCE_DIR}/src/vidhrdw/vector.h 
   ${pinmamesrc_SOURCE_DIR}/src/window.c
   ${pinmamesrc_SOURCE_DIR}/src/window.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/allied.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/alvg.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/alvg.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/alvgdmd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/alvgdmd.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/alvggames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/alvgs.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/alvgs.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/atari.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/atari.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/atarigames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/atarisnd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/barni.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/bingo.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/boomerang.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/bowarrow.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/bowlgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by35.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by35.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by35games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by35snd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by35snd.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by6803.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by6803.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by6803games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/by68701.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/byvidgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/byvidpin.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/byvidpin.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/capcom.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/capcom.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/capcoms.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/capcoms.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/capgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/core.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/core.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/dedmd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/dedmd.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/degames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/desound.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/desound.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/driver.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/efo.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/efosnd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/flicker.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gen.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gp.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gp.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gpgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gpsnd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gpsnd.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts1.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts1.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts1games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts3.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts3.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts3dmd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts3dmd.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts3games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts80.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts80.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts80games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts80s.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/gts80s.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/hnkgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/hnks.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/hnks.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/icecoldbeer.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/idsa.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/inder.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/inder.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/indergames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/inderp.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/jeutel.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/joctronic.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/jp.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/jp.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/jpgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/jvh.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/kissproto.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/lancelot.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/ltd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/ltd.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/ltdgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/luckydraw.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/mac.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/mech.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/mech.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/mephisto.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/micropin.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/mrgame.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/mrgame.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/mrgamegames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/nsm.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/nuova.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/peyper.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/peyper.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/peypergames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/play.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/play.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/playgames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/playsnd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/regama.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/rotation.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/rowamet.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s3games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s4.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s4.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s4games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s6.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s6.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s6games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s7.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s7.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s7games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s11.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s11.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/s11games.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/se.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/se.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/segames.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sim.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sim.h 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/sttng.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/fh.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/jd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/bop.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/ft.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/gw.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/afm.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/tz.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/taf.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/pz.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/t2.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/ngg.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/dd_wpc.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/cftbl.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/mm.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/br.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/wcs.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/hd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/drac.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/ss.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/ww.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/ij.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/tom.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/rs.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/hurr.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/gi.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/full/dm.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/cp.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/ts.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/pop.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/wd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/jm.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/i500.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/nbaf.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/corv.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/fs.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/sc.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/mb.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/totan.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/congo.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/nf.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/jb.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/cv.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/dw.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/dh.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/cc.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/wpc/prelim/jy.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/se/prelim/monopoly.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/se/prelim/elvis.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/se/prelim/harley.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/s11/full/dd.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/s11/full/milln.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/s11/prelim/eatpm.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/s7/full/bk.c 
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sims/s7/full/tmfnt.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/slalom.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sleic.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sleic.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sleicgames.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/snd_alt.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/snd_cmd.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/snd_cmd.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sndbrd.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/sndbrd.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/spectra.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/spinb.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/spinb.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/spinbgames.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/spiritof76.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/stargame.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/stgames.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/stsnd.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/stsnd.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/tabart.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/taito.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/taito.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/taitogames.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/taitos.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/taitos.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/techno.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/vd.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/vpintf.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/vpintf.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wico.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wmssnd.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wmssnd.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wpc.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wpc.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wpcgames.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wpcsam.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/wpcsam.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/zac.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/zac.h
   ${pinmamesrc_SOURCE_DIR}/src/wpc/zacgames.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/zacproto.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/zacsnd.c
   ${pinmamesrc_SOURCE_DIR}/src/wpc/zacsnd.h

   ${pinmamesrc_SOURCE_DIR}/ext/vgm/vgmwrite.c
   ${pinmamesrc_SOURCE_DIR}/ext/vgm/vgmwrite.h

   ${pinmamesrc_SOURCE_DIR}/src/vc/dirent.c

   ${pinmamesrc_SOURCE_DIR}/src/win32com/Alias.cpp

   ${pinmamesrc_SOURCE_DIR}/src/windows/fronthlp.c
   ${pinmamesrc_SOURCE_DIR}/src/windows/jit.c
   ${pinmamesrc_SOURCE_DIR}/src/windows/jit.h
   ${pinmamesrc_SOURCE_DIR}/src/windows/jitemit.c
   ${pinmamesrc_SOURCE_DIR}/src/windows/jitemit.h
   ${pinmamesrc_SOURCE_DIR}/src/windows/rc.c
   ${pinmamesrc_SOURCE_DIR}/src/windows/rc.h
   ${pinmamesrc_SOURCE_DIR}/src/windows/ticker.c

   ${pinmamesrc_SOURCE_DIR}/src/dll/video.c
   ${pinmamesrc_SOURCE_DIR}/src/dll/video.h
   ${pinmamesrc_SOURCE_DIR}/src/dll/joystick.c
   ${pinmamesrc_SOURCE_DIR}/src/dll/keyboard.c
   ${pinmamesrc_SOURCE_DIR}/src/dll/fileio.c
   ${pinmamesrc_SOURCE_DIR}/src/dll/sound.c
   ${pinmamesrc_SOURCE_DIR}/src/dll/sound.h
   ${pinmamesrc_SOURCE_DIR}/src/dll/minimalconfig.c
   ${pinmamesrc_SOURCE_DIR}/src/dll/minimalconfig.h
   ${pinmamesrc_SOURCE_DIR}/src/dll/misc.c
   ${pinmamesrc_SOURCE_DIR}/src/dll/misc.h
   ${pinmamesrc_SOURCE_DIR}/src/dll/libpinmame.cpp
   ${pinmamesrc_SOURCE_DIR}/src/dll/libpinmame.h
)

target_include_directories(pinmame PUBLIC
   ${pinmamesrc_SOURCE_DIR}/src
   ${pinmamesrc_SOURCE_DIR}/src/wpc
   ${pinmamesrc_SOURCE_DIR}/src/windows
   ${pinmamesrc_SOURCE_DIR}/src/vc
   ${pinmamesrc_SOURCE_DIR}/src/cpu/m68000/generated_by_m68kmake
   ${pinmamesrc_SOURCE_DIR}/ext/zlib/include
)

target_link_directories(pinmame PUBLIC
   ${pinmamesrc_SOURCE_DIR}/ext/zlib/lib_vc9
)

target_link_libraries(pinmame zlibstatmt.lib winmm.lib)

set_target_properties(pinmame
   PROPERTIES VERSION ${PROJECT_VERSION}
   RUNTIME_OUTPUT_DIRECTORY_RELEASE "${CMAKE_BINARY_DIR}/lib"
   RUNTIME_OUTPUT_NAME "libpinmame-${PROJECT_VERSION}"
)

file(COPY ../LICENSE.txt
     DESTINATION ${CMAKE_BINARY_DIR}/lib)
